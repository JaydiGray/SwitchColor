{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAqBA,IAAMC,EAASC,SAASC,cAAc,SAEtCF,EAAOG,iBAAiB,UAExB,SAAkBC,GAChBA,EAAEC,iBACF,IAAMC,GAAQN,EAAOE,cAAc,sBAAsBK,MACnDC,GAAUR,EAAOE,cAAc,wBAAwBK,MACzDE,GAAST,EAAOE,cAAc,uBAAuBK,MAErDG,EAAU,EAEdC,YAAW,WACT,IAAIC,EAAa,KAEjBA,EAAaC,aAAY,WAEvB,IADAH,GAAW,KACKF,EAAS,EAGvB,OAFAM,cAAcF,QACdF,EAAU,GAtClB,IAAuBK,EAAUC,GAAVD,EA0CHL,EA1CaM,EA0CJV,EAzCLW,KAAKC,SAAW,GAG7BC,QAAQC,QAAQ,CAAEL,WAAUC,UAG5BG,QAAQE,OAAO,CAAEN,WAAUC,WAoC7BM,MAAK,SAAAC,G,IAAGR,EAAQQ,EAARR,SAAUC,EAAKO,EAALP,MACjBQ,EAAA1B,GAAS2B,OAAOC,QACd,uBAAwCC,OAAfZ,EAAS,QAAYY,OAANX,EAAM,OAEhDY,YAActB,C,IAEfuB,OAAM,SAAAN,G,IAAGR,EAAQQ,EAARR,SAAUC,EAAKO,EAALP,MAClBQ,EAAA1B,GAAS2B,OAAOK,QACd,sBAAqCH,OAAfZ,EAAS,QAAYY,OAANX,EAAM,OAE7CY,YAActB,C,MAEjBA,E,GACFG,E","sources":["src/js/03-promise.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    // Fulfill\n    return Promise.resolve({ position, delay });\n  } else {\n    // Reject\n    return Promise.reject({ position, delay });\n  }\n}\n\n// createPromise(2, 1500)\n//   .then(({ position, delay }) => {\n//     console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//   })\n//   .catch(({ position, delay }) => {\n//     console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n//   });\n\nconst formEl = document.querySelector('.form');\n\nformEl.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  const step = +formEl.querySelector('input[name=\"step\"]').value;\n  const amount = +formEl.querySelector('input[name=\"amount\"]').value;\n  let delay = +formEl.querySelector('input[name=\"delay\"]').value;\n\n  let counter = 0;\n\n  setTimeout(() => {\n    let intervalId = null;\n\n    intervalId = setInterval(() => {\n      counter += 1;\n      if (counter === amount + 1) {\n        clearInterval(intervalId);\n        counter = 0;\n        return;\n      }\n\n      createPromise(counter, step)\n        .then(({ position, delay }) => {\n          Notiflix.Notify.success(\n            `✅ Fulfilled promise ${position} in ${delay}ms`\n          );\n          totalDelay += step;\n        })\n        .catch(({ position, delay }) => {\n          Notiflix.Notify.failure(\n            `❌ Rejected promise ${position} in ${delay}ms`\n          );\n          totalDelay += step;\n        });\n    }, step);\n  }, delay);\n}\n"],"names":["$ejkSG","parcelRequire","$6b6c8d7ec641984c$var$formEl","document","querySelector","addEventListener","e","preventDefault","step","value","amount","delay1","counter","setTimeout","intervalId","setInterval","clearInterval","position","delay","Math","random","Promise","resolve","reject","then","param","$parcel$interopDefault","Notify","success","concat","totalDelay","catch","failure"],"version":3,"file":"03-promises.45b7e155.js.map"}