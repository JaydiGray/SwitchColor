{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAqBA,MAAMC,EAASC,SAASC,cAAc,SAEtCF,EAAOG,iBAAiB,UAExB,SAAkBC,GAChBA,EAAEC,iBACF,MAAMC,GAAQN,EAAOE,cAAc,sBAAsBK,MACnDC,GAAUR,EAAOE,cAAc,wBAAwBK,MAC7D,IAAIE,GAAST,EAAOE,cAAc,uBAAuBK,MAErDG,EAAU,EACVC,EAAaF,EAEjBG,YAAW,KACT,IAAIC,EAAa,KAEjBA,EAAaC,aAAY,KAEvB,GADAJ,GAAW,EACPA,IAAYF,EAAS,EAGvB,OAFAO,cAAcF,QACdH,EAAU,IAvClB,SAAuBM,EAAUP,GAE/B,OADsBQ,KAAKC,SAAW,GAG7BC,QAAQC,QAAQ,C,SAAEJ,E,MAAUP,IAG5BU,QAAQE,OAAO,C,SAAEL,E,MAAUP,G,EAoChCa,CAAcZ,EAASJ,GACpBiB,MAAK,EAACP,SAAEA,EAAQP,MAAEA,MACjBe,EAAA1B,GAAS2B,OAAOC,QACd,uBAAqBV,QAAiBL,OAExCA,GAAcL,CAAI,IAEnBqB,OAAM,EAACX,SAAEA,EAAQP,MAAEA,MAClBe,EAAA1B,GAAS2B,OAAOG,QACd,sBAAoBZ,QAAeL,OAErCA,GAAcL,CAAI,GAClB,GACHA,EAAK,GACPG,E","sources":["src/js/03-promise.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    // Fulfill\n    return Promise.resolve({ position, delay });\n  } else {\n    // Reject\n    return Promise.reject({ position, delay });\n  }\n}\n\n// createPromise(2, 1500)\n//   .then(({ position, delay }) => {\n//     console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//   })\n//   .catch(({ position, delay }) => {\n//     console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n//   });\n\nconst formEl = document.querySelector('.form');\n\nformEl.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  const step = +formEl.querySelector('input[name=\"step\"]').value;\n  const amount = +formEl.querySelector('input[name=\"amount\"]').value;\n  let delay = +formEl.querySelector('input[name=\"delay\"]').value;\n\n  let counter = 0;\n  let totalDelay = delay;\n\n  setTimeout(() => {\n    let intervalId = null;\n\n    intervalId = setInterval(() => {\n      counter += 1;\n      if (counter === amount + 1) {\n        clearInterval(intervalId);\n        counter = 0;\n        return;\n      }\n\n      createPromise(counter, step)\n        .then(({ position, delay }) => {\n          Notiflix.Notify.success(\n            `✅ Fulfilled promise ${position} in ${totalDelay}ms`\n          );\n          totalDelay += step;\n        })\n        .catch(({ position, delay }) => {\n          Notiflix.Notify.failure(\n            `❌ Rejected promise ${position} in ${totalDelay}ms`\n          );\n          totalDelay += step;\n        });\n    }, step);\n  }, delay);\n}\n"],"names":["$1GAPJ","parcelRequire","$fa731149d7840060$var$formEl","document","querySelector","addEventListener","e","preventDefault","step","value","amount","delay","counter","totalDelay","setTimeout","intervalId","setInterval","clearInterval","position","Math","random","Promise","resolve","reject","$fa731149d7840060$var$createPromise","then","$parcel$interopDefault","Notify","success","catch","failure"],"version":3,"file":"03-promises.5cb6ff8a.js.map"}